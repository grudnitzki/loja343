<script type="text/javascript">
var aDesc=new Array("<DescritorSimples2Produto1>","<DescritorSimples2Produto2>","<DescritorSimples2Produto3>","<DescritorSimples2Produto4>","<DescritorSimples2Produto5>","<DescritorSimples2Produto6>","<DescritorSimples2Produto7>","<DescritorSimples2Produto8>","<DescritorSimples2Produto9>","<DescritorSimples2Produto10>");
sDesc = aDesc.toString().replace(/\W<DescritorSimples2Produto\w+>/g,"");
aDesc = sDesc.split(",");

var aQtds=new Array("<QtdProduto1>","<QtdProduto2>","<QtdProduto3>","<QtdProduto4>","<QtdProduto5>","<QtdProduto6>","<QtdProduto7>","<QtdProduto8>","<QtdProduto9>","<QtdProduto10>");
sQtds = aQtds.toString().replace(/\W<QtdProduto\w+>/g,"");
aQtds = sQtds.split(",");

var aIDPs=new Array("<IDProduto1>","<IDProduto2>","<IDProduto3>","<IDProduto4>","<IDProduto5>","<IDProduto6>","<IDProduto7>","<IDProduto8>","<IDProduto9>","<IDProduto10>");
sIDPs = aIDPs.toString().replace(/\W<IDProduto\w+>/g,"");
aIDPs = sIDPs.split(",");

var aNoms=new Array("<NomeProduto1>","<NomeProduto2>","<NomeProduto3>","<NomeProduto4>","<NomeProduto5>","<NomeProduto6>","<NomeProduto7>","<NomeProduto8>","<NomeProduto9>","<NomeProduto10>");
sNoms = aNoms.toString().replace(/\W<NomeProduto\w+>/g,"");
aNoms = sNoms.split(",");

var aPris=new Array("<PrecoUnitProduto1>","<PrecoUnitProduto2>","<PrecoUnitProduto3>","<PrecoUnitProduto4>","<PrecoUnitProduto5>","<PrecoUnitProduto6>","<PrecoUnitProduto7>","<PrecoUnitProduto8>","<PrecoUnitProduto9>","<PrecoUnitProduto10>");
sPris = aPris.toString().replace(/\W<PrecoUnitProduto\w+>/g,"");
aPris = sPris.split(",");

//var zCid = new Array();
var zXml="";
for (var i=0;i<aDesc.length;i++){
     if (aDesc[i] == "Durex"){
    zCid = "DUR";
  } else {
    zCid = "OUT";
  }
    zXml += "<so qty=\""+aQtds[i]+"\" pnr=\""+aIDPs[i]+"\" pn=\""+aNoms[i]+"\" up="+aPris[i]+" cid=\""+zCid+"\" />"
}
console.log(zXml)


// Encoding Forma de Pagamento
var zFormPgtoRaw = "<FormaPagamento>";
var zFPgtoRes = encodeURIComponent(zFormPgtoRaw)
// Encoding Nome Produto
var zXmlRes = encodeURIComponent(zXml);

var zScr = document.createElement( "script" );
  var zSync = escape(document.referrer); zScr.async = true;
  zScr.src = ( document.location.protocol === "https:" ? "https:" : "http:" ) + "//ad.zanox.com/pps/?14718C815922959&mode=[[1]]&CID=[[basket]]&CustomerID=[[<IDCliente>]]&OrderID=[[<IDPedido>]]&CurrencySymbol=[[BRL]]&ReviewNote=[["+zFPgtoRes+"]]&TotalPrice=[[0]]&PartnerID=[[]]&XML=[[%3Cz%3E%3Co%3E" + zXmlRes + "%3C%2Fo%3E%3C%2Fz%3E]]"
  var zElem =document.getElementsByTagName('script')[0];
    zElem.parentNode.insertBefore(zScr,zElem);
</script>

<script>
(function(){
        var wSrc = document.createElement('script');
        wSrc.type = 'text/javascript';
        wSrc.async = true;
        wSrc.src = (document.location.protocol === "https:" ? "https:" : "http:") + "//serverwup.com/adswup/2014/Durex/remarketing.js";
        var wPlace = document.getElementsByTagName('script')[0];
        wPlace.parentNode.insertBefore(wSrc,wPlace);
    }());
</script>

<!-- script CityAds -->
<!-- Tag de conversão da CityAds-->
<div id="IDimageCityAds"></div>

<script id="xcntmyAsync" type="text/javascript">

//Função que carrega os scripts-------------
function fnLoadScript(src,IsAsync){
    var fcw=document.createElement('script');
    fcw.type='text/javascript';
    fcw.async=IsAsync;
    fcw.src=src;
    var s=document.getElementsByTagName('script')[1];
    s.parentNode.insertBefore(fcw,s);
  }

/*<![CDATA[*/

// Página Checkout

var FCIDProduto = "<IDProduto1>,<IDProduto2>,<IDProduto3>,<IDProduto4>,<IDProduto5>,<IDProduto6>,<IDProduto7>,<IDProduto8>,<IDProduto9>,<IDProduto10>";
FCIDProduto = FCIDProduto.replace(/\W(<IDProduto)\w+>/g, '');//removo tags sem conteúdo

var FCqtdProduto = "<QtdProduto1>,<QtdProduto2>,<QtdProduto3>,<QtdProduto4>,<QtdProduto5>,<QtdProduto6>,<QtdProduto7>,<QtdProduto8>,<QtdProduto9>,<QtdProduto10>";
FCqtdProduto = FCqtdProduto.replace(/\W(<QtdProduto)\w+>/g, '');//removo tags sem conteúdo

var FCNomeProduto = "<NomeProduto1>,<NomeProduto2>,<NomeProduto3>,<NomeProduto4>,<NomeProduto5>,<NomeProduto6>,<NomeProduto7>,<NomeProduto8>,<NomeProduto9>,<NomeProduto10>";
FCNomeProduto = FCNomeProduto.replace(/\W(<NomeProduto)\w+>/g, '');//removo tags sem conteúdo

var FCPrecoUnitProduto = "<PrecoUnitProduto1>,<PrecoUnitProduto2>,<PrecoUnitProduto3>,<PrecoUnitProduto4>,<PrecoUnitProduto5>,<PrecoUnitProduto6>,<PrecoUnitProduto7>,<PrecoUnitProduto8>,<PrecoUnitProduto9>,<PrecoUnitProduto10>";
FCPrecoUnitProduto = FCPrecoUnitProduto.replace(/\W(<PrecoUnitProduto)\w+>/g, '');//removo tags sem conteúdo

var FCCatProduto = "<CatProduto1>,<CatProduto2>,<CatProduto3>,<CatProduto4>,<CatProduto5>,<CatProduto6>,<CatProduto7>,<CatProduto8>,<CatProduto9>,<CatProduto10>";
FCCatProduto = FCCatProduto.replace(/\W(<CatProduto)\w+>/g, '');//removo tags sem conteúdo

//Transformo tags em array
FCIDProduto  = FCIDProduto .split(",");
FCqtdProduto = FCqtdProduto.split(",");
FCNomeProduto = FCNomeProduto.split(",");
FCPrecoUnitProduto = FCPrecoUnitProduto.split(",");
FCCatProduto= FCCatProduto.split(",");

var retornaPixelCity = new Array();
for(var i = 0; i<FCNomeProduto.length; i++){
	retornaPixelCity[i] = "{'pid':'"+ FCIDProduto[i] +"','pn':'"+FCNomeProduto[i]+"','up':'"+FCPrecoUnitProduto[i]+"','pc':'"+FCCatProduto[i]+"','qty':'"+FCqtdProduto[i]+"','pd':'0'}"
}

var xcnt_order_products = FCIDProduto.toString(); // Retornar os IDs dos produtos, separados por vírgula
var xcnt_order_quantity = FCqtdProduto.toString(); // Retornar a  quantidade de cada produto no Basket, separados por vírgula
var xcnt_order_id = "<IDPedido>"; // Retornar o OrderID (de preferência criptografado em MD5)
var xcnt_order_total = "<TotalPrazo>"; // Retornar valor total do pedido, usando sempre PONTO para separar decimais

/*]]>*/

(function(){
var xscr = document.createElement( "script" );
var xcntr = escape(document.referrer); xscr.async = true;
xscr.src = ( document.location.protocol === "https:" ? "https:" : "http:" ) + "//x.cnt.my/async/track/?r=" + Math.random();
var x = document.getElementsByTagName( "script" )[0];
x.parentNode.insertBefore( xscr, x );
}());
</script>

<!--Tracking pixel da CityAds-->
<script>
var scriptCityAds = "https://cityadspix.com/track/{<IDPedido>}/ct/q1/c/13095?click_id={click_id}&customer_type={customer_type}&payment_method={<FormaPagamento>}&order_total={<TotalPrazo>}&currency={BRL}&coupon={<DescontoCupom>}&discount={}&basket=["+retornaPixelCity.toString()+"]&md=2";

var imageCityAds = "https://cityadspix.com/track/{<IDPedido>}/ct/q1/c/13095?click_id={click_id}&customer_type={customer_type}&payment_method={<FormaPagamento>}&order_total={<TotalPrazo>}&currency={BRL}&coupon={<DescontoCupom>}&discount={}&basket=["+retornaPixelCity.toString()+"]"; 

fnLoadScript(scriptCityAds,true);

document.getElementById("IDimageCityAds").innerHTML="<noscript ><img id=\"IDimageCityAds\" src=\""+imageCityAds+"\" width=\"1\" height=\"1\"></noscript>";

</script>
